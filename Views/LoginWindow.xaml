<Window
    x:Class="AOL_Reborn.Views.LoginWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Sign On"
    Width="200"
    Height="390"
    AllowsTransparency="False"
    Background="Transparent"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None">

    <!--  Define resources at the Window level  -->
    <Window.Resources>
        <!--  Existing style for image-swap buttons (if needed elsewhere)  -->
        <Style x:Key="ImageSwapButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Image
                                x:Name="ButtonImage"
                                Width="15"
                                Height="15"
                                Source="{TemplateBinding Tag}"
                                Stretch="Uniform" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonImage" Property="Source" Value="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  New style for the Sign On button  -->
        <Style x:Key="SignOnButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="40" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                            <Image
                                x:Name="SignOnImage"
                                Width="25"
                                Height="25"
                                Source="/Assets/SignOn_Normal.png"
                                Stretch="Uniform" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="10"
                                Foreground="Black"
                                Text="Sign On" />
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SignOnImage" Property="Source" Value="/Assets/SignOn_Shaded.png" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  New style for the Setup button  -->
        <Style x:Key="SetupButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="40" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                            <Image
                                x:Name="SetupImage"
                                Width="25"
                                Height="25"
                                Source="/Assets/Setup_Normal.png"
                                Stretch="Uniform" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="10"
                                Foreground="Black"
                                Text="Setup" />
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SetupImage" Property="Source" Value="/Assets/Setup_Shaded.png" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  New style for the Help button  -->
        <Style x:Key="HelpButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="40" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                            <Image
                                x:Name="HelpImage"
                                Width="25"
                                Height="25"
                                Source="/Assets/Help_Normal.png"
                                Stretch="Uniform" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="10"
                                Foreground="Black"
                                Text="Help" />
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="HelpImage" Property="Source" Value="/Assets/Help_Shaded.png" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!--  Outer Border for rounded corners  -->
    <Border
        Background="WhiteSmoke"
        BorderBrush="WhiteSmoke"
        BorderThickness="0"
        CornerRadius="10">
        <Grid>
            <Grid.RowDefinitions>
                <!--  Row 0: Custom Title Bar  -->
                <RowDefinition Height="35" />
                <!--  Row 1: Login UI  -->
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Custom Title Bar  -->
            <Border
                Grid.Row="0"
                Margin="0,0,0,10"
                Background="WhiteSmoke"
                CornerRadius="15,15,15,15"
                MouseLeftButtonDown="CustomTitleBar_MouseLeftButtonDown">
                <Grid>
                    <!--  Left side: Buddy icon and title text  -->
                    <StackPanel
                        Margin="10,0,0,0"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <Image
                            Width="15"
                            Height="15"
                            Margin="0,0,5,0"
                            Source="/Assets/AIM_Logo.png" />
                        <TextBlock
                            VerticalAlignment="Center"
                            FontFamily="Microsoft Sans Serif"
                            FontSize="10"
                            Foreground="Black"
                            Text="Sign On" />
                    </StackPanel>
                    <!--  Right side: Minimize and Close buttons  -->
                    <StackPanel
                        Margin="0,0,10,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <Button
                            Width="20"
                            Height="20"
                            Margin="-120,0,0,0"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="MinimizeButton_Click"
                            Content="---"
                            Foreground="Black" />
                        <Button
                            Width="20"
                            Height="20"
                            Margin="0,0,0,0"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="CloseButton_Click"
                            Content="X"
                            Foreground="Black" />
                    </StackPanel>
                    <!--  Horizontal Separator Line below the title bar  -->
                    <Rectangle
                        Height="0.5"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Bottom"
                        Fill="Gray" />
                </Grid>
            </Border>

            <!--  Login UI Area  -->
            <Border
                Grid.RowSpan="2"
                Margin="0,12,0,10"
                Padding="10">
                <Grid Margin="0,0,0,-10">
                    <Grid.RowDefinitions>
                        <!--  New horizontal separator above the main logo  -->
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <!--  Main Logo  -->
                        <RowDefinition Height="Auto" />
                        <!--  Separator  -->
                        <RowDefinition Height="Auto" />
                        <!--  ScreenName row  -->
                        <RowDefinition Height="Auto" />
                        <!--  Username ComboBox  -->
                        <RowDefinition Height="Auto" />
                        <!--  Password Label  -->
                        <RowDefinition Height="Auto" />
                        <!--  Password Field  -->
                        <RowDefinition Height="Auto" />
                        <!--  Forgot Password Link  -->
                        <RowDefinition Height="Auto" />
                        <!--  CheckBoxes  -->
                        <RowDefinition Height="Auto" />
                        <!--  Buttons  -->
                        <RowDefinition Height="Auto" />
                        <!--  Version Text  -->
                    </Grid.RowDefinitions>

                    <!--  New separator line above the main logo  -->

                    <!--  Main Logo  -->
                    <Image
                        Grid.Row="1"
                        Height="150"
                        Margin="0,5,0,5"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Source="/Assets/LoginWindowMainLogo.png" />

                    <!--  Existing Separator Line  -->
                    <Rectangle
                        Grid.Row="2"
                        Grid.RowSpan="2"
                        Height="0.5"
                        Margin="-3,-12,-3,10"
                        Fill="Gray" />

                    <!--  ScreenName row: label and red key icon  -->
                    <StackPanel
                        Grid.Row="3"
                        HorizontalAlignment="Left"
                        Orientation="Horizontal">
                        <TextBlock
                            Margin="0,3,10,0"
                            VerticalAlignment="Center"
                            FontFamily="Microsoft Sans Serif"
                            FontSize="12"
                            FontStyle="Italic"
                            FontWeight="ExtraBold"
                            Text="ScreenName:" />
                        <Image
                            Width="25"
                            Margin="-5,3,0,0"
                            HorizontalAlignment="Left"
                            Source="/Assets/RedKey.png" />
                    </StackPanel>

                    <!--  Username ComboBox  -->
                    <ComboBox
                        x:Name="UsernameBox"
                        Grid.Row="4"
                        Width="180"
                        Height="20"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        IsEditable="True"
                        IsReadOnly="False"
                        MaxDropDownHeight="50"
                        StaysOpenOnEdit="True">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>

                    <!--  Password Label  -->
                    <TextBlock
                        Grid.Row="5"
                        Margin="0,20,0,5"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        FontFamily="Microsoft Sans Serif"
                        FontSize="12"
                        FontWeight="ExtraBold"
                        Text="Password:" />
                    <!--  Forgot Password Link (moved under the password field)  -->
                    <TextBlock
                        Grid.Row="5"
                        Margin="0,-25,0,10"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Cursor="Hand"
                        FontSize="12"
                        Foreground="Blue"
                        Text="Get a Screen Name"
                        TextDecorations="Underline" />
                    <!--  Password Field  -->
                    <PasswordBox
                        x:Name="PasswordBox"
                        Grid.Row="5"
                        Grid.RowSpan="2"
                        Width="180"
                        Height="20"
                        Margin="0,40,0,2"
                        HorizontalAlignment="Center" />

                    <!--  Forgot Password Link (moved under the password field)  -->
                    <TextBlock
                        Grid.Row="7"
                        Margin="0,-3,0,10"
                        HorizontalAlignment="Left"
                        Cursor="Hand"
                        FontSize="12"
                        Foreground="Blue"
                        Text="Forgot Password?"
                        TextDecorations="Underline" />

                    <!--  Save Password & Auto-login Options  -->
                    <StackPanel
                        Grid.Row="8"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Left"
                        Orientation="Horizontal">
                        <CheckBox
                            x:Name="SavePasswordCheckBox"
                            Margin="0,0,20,0"
                            Content="Save password"
                            FontSize="10" />
                        <CheckBox
                            x:Name="AutoLoginCheckBox"
                            Margin="5,0,0,0"
                            HorizontalAlignment="Right"
                            Content="Auto-login"
                            FontSize="10" />
                    </StackPanel>

                    <!--  Buttons Area  -->
                    <Grid
                        Grid.Row="8"
                        Grid.RowSpan="2"
                        Height="60"
                        VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30" />
                            <ColumnDefinition Width="70" />
                            <!--  Left group: Help and Setup  -->
                            <ColumnDefinition Width="20" />
                            <!--  Gap  -->
                            <ColumnDefinition Width="*" />
                            <!--  Right group: Sign On  -->
                        </Grid.ColumnDefinitions>
                        <!--  Left Group: Help and Setup buttons  -->
                        <StackPanel
                            Grid.Column="0"
                            Grid.ColumnSpan="2"
                            Width="100"
                            HorizontalAlignment="Center"
                            Orientation="Horizontal">
                            <Button
                                x:Name="HelpButton"
                                Margin="-8,20,10,0"
                                HorizontalContentAlignment="Left"
                                Click="HelpButton_Click"
                                Style="{StaticResource HelpButtonStyle}" />
                            <Button
                                x:Name="SetupButton"
                                Margin="-18,20,0,0"
                                Click="NetworkSettingsButton_Click"
                                Style="{StaticResource SetupButtonStyle}" />
                        </StackPanel>
                        <!--  Right Group: Sign On button, justified to the right  -->
                        <Button
                            x:Name="SignOnButton"
                            Grid.Column="2"
                            Grid.ColumnSpan="2"
                            Margin="0,20,10,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Click="SignInButton_Click"
                            Style="{StaticResource SignOnButtonStyle}" />
                    </Grid>

                    <!--  Version Text  -->
                    <TextBlock
                        Grid.Row="9"
                        Margin="0,50,0,0"
                        HorizontalAlignment="Center"
                        FontSize="10"
                        FontWeight="Bold"
                        Foreground="Gray"
                        Text="Version: 3.17.2025" />
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
