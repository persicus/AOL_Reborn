<Window
    x:Class="AOL_Reborn.Views.LoginWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Sign On"
    Width="240"
    Height="500"
    AllowsTransparency="False"
    Background="#D4D0C8"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None">

    <!--  Define resources at the Window level  -->
    <Window.Resources>
        <!--  Existing style for image-swap buttons (used for Help/Setup, if needed)  -->
        <Style x:Key="ImageSwapButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Image
                                x:Name="ButtonImage"
                                Width="24"
                                Height="24"
                                Source="{TemplateBinding Tag}"
                                Stretch="Uniform" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonImage" Property="Source" Value="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  New Style for the Sign On button  -->
        <Style x:Key="SignOnButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="40" />
            <Setter Property="Height" Value="60" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                            <Image
                                x:Name="SignOnImage"
                                Width="40"
                                Height="40"
                                Source="/Assets/SignOn_Normal.png"
                                Stretch="Uniform" />
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="10"
                                Foreground="Black"
                                Text="Sign On" />
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SignOnImage" Property="Source" Value="/Assets/SignOn_Shaded.png" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!--  Outer Border for rounded corners  -->
    <Border
        Background="WhiteSmoke"
        BorderBrush="WhiteSmoke"
        BorderThickness="2"
        CornerRadius="10">
        <Grid>
            <Grid.RowDefinitions>
                <!--  Row 0: Custom Title Bar  -->
                <RowDefinition Height="40" />
                <!--  Row 1: The rest of the Login UI  -->
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Custom Title Bar  -->
            <Border
                Grid.Row="0"
                CornerRadius="10,10,10,10"
                Background="WhiteSmoke"
                MouseLeftButtonDown="CustomTitleBar_MouseLeftButtonDown">
                <Grid>
                    <!--  Left side: Buddy icon and title text  -->
                    <StackPanel
                        Margin="10,0,0,0"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <Image
                            Width="24"
                            Height="24"
                            Margin="0,0,5,0"
                            Source="/Assets/AIM_Logo.png" />
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="14"
                            FontWeight="Bold"
                            Foreground="Black"
                            Text="Sign On" />
                    </StackPanel>
                    <!--  Right side: Minimize and Close buttons  -->
                    <StackPanel
                        Margin="0,0,10,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <Button
                            Width="30"
                            Height="30"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="MinimizeButton_Click"
                            Content="---"
                            Foreground="Black" />
                        <Button
                            Width="30"
                            Height="30"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="CloseButton_Click"
                            Content="X"
                            Foreground="Black" />
                    </StackPanel>
                </Grid>
            </Border>

            <!--  Login UI Area  -->
            <Border Grid.Row="1" Padding="10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <!--  Main Logo  -->
                        <RowDefinition Height="Auto" />
                        <!--  Separator  -->
                        <RowDefinition Height="Auto" />
                        <!--  ScreenName row  -->
                        <RowDefinition Height="Auto" />
                        <!--  Username ComboBox  -->
                        <RowDefinition Height="Auto" />
                        <!--  Forgot Password Link  -->
                        <RowDefinition Height="Auto" />
                        <!--  Password Label  -->
                        <RowDefinition Height="Auto" />
                        <!--  Password Field  -->
                        <RowDefinition Height="Auto" />
                        <!--  CheckBoxes  -->
                        <RowDefinition Height="Auto" />
                        <!--  Buttons  -->
                        <RowDefinition Height="Auto" />
                        <!--  Version Text  -->
                    </Grid.RowDefinitions>

                    <!--  Main Logo  -->
                    <Image
                        Grid.Row="0"
                        HorizontalAlignment="Center"
                        Source="/Assets/LoginWindowMainLogo.png" />

                    <!--  Separator Line  -->
                    <Rectangle
                        Grid.Row="1"
                        Height="2"
                        Margin="0,5,0,10"
                        Fill="#808080" />

                    <!--  ScreenName row: label and red key icon  -->
                    <StackPanel
                        Grid.Row="2"
                        HorizontalAlignment="Left"
                        Orientation="Horizontal">
                        <TextBlock
                            Margin="0,0,10,0"
                            VerticalAlignment="Center"
                            FontStyle="Italic"
                            FontWeight="Bold"
                            Text="ScreenName:" />
                        <Image
                            Width="25"
                            HorizontalAlignment="Left"
                            Source="/Assets/RedKey.png" />
                    </StackPanel>

                    <!--  Username ComboBox  -->
                    <ComboBox
                        x:Name="UsernameBox"
                        Grid.Row="3"
                        Width="200"
                        Height="20"
                        Margin="0,0,0,10"
                        HorizontalAlignment="Left"
                        IsEditable="True"
                        IsReadOnly="False"
                        MaxDropDownHeight="100"
                        StaysOpenOnEdit="True">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>

                    <!--  Forgot Password Link  -->
                    <TextBlock
                        Grid.Row="4"
                        Margin="0,0,0,10"
                        HorizontalAlignment="Left"
                        Cursor="Hand"
                        Foreground="Blue"
                        Text="Forgot Password?"
                        TextDecorations="Underline" />

                    <!--  Password Label  -->
                    <TextBlock
                        Grid.Row="5"
                        Margin="0,0,0,5"
                        HorizontalAlignment="Left"
                        FontWeight="Bold"
                        Text="Password:" />

                    <!--  Password Field  -->
                    <PasswordBox
                        x:Name="PasswordBox"
                        Grid.Row="6"
                        Width="200"
                        Height="20"
                        Margin="0,0,0,10"
                        HorizontalAlignment="Left" />

                    <!--  Save Password & Auto-login Options  -->
                    <StackPanel
                        Grid.Row="7"
                        Margin="0,0,0,10"
                        HorizontalAlignment="Left"
                        Orientation="Horizontal">
                        <CheckBox
                            x:Name="SavePasswordCheckBox"
                            Margin="0,0,20,0"
                            Content="Save password" />
                        <CheckBox x:Name="AutoLoginCheckBox" Content="Auto-login" />
                    </StackPanel>

                    <!--  Buttons  -->
                    <StackPanel
                        Grid.Row="8"
                        HorizontalAlignment="Center"
                        Orientation="Horizontal">
                        <Button
                            x:Name="HelpButton"
                            Margin="0,0,10,0"
                            Click="HelpButton_Click"
                            Content="/Assets/Help_Shaded.png"
                            Style="{StaticResource ImageSwapButtonStyle}"
                            Tag="/Assets/Help_Normal.png" />
                        <Button
                            x:Name="SetupButton"
                            Margin="0,0,10,0"
                            Click="NetworkSettingsButton_Click"
                            Content="/Assets/Setup_Shaded.png"
                            Style="{StaticResource ImageSwapButtonStyle}"
                            Tag="/Assets/Setup_Normal.png" />
                        <!--  Sign On Button using the new style  -->
                        <Button
                            x:Name="SignOnButton"
                            Click="SignInButton_Click"
                            Style="{StaticResource SignOnButtonStyle}" />
                    </StackPanel>

                    <!--  Version Text  -->
                    <TextBlock
                        Grid.Row="9"
                        Margin="0,10,0,0"
                        HorizontalAlignment="Center"
                        FontSize="10"
                        Foreground="Gray"
                        Text="Version: 4.8.2016" />
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
